<div class="">
    <h4>Application List</h4>
    <hr>
</div>
<div class="panel-body">
    <div class="row no-margin">
        <div class="col-lg-12 ">
            <a class="btn btn-primary pull-right mb10" ui-sref="app.applicationsAdd"><i class="fa fa-plus-circle"></i>
                Add</a>
            <div class="table-responsive">
                <table class="table table-striped mb0">
                    <thead>
                    <tr>
                        <th class="col-md-5">
                            <span></span>Name
                        </th>
                        <th class="col-md-2">Type</th>
                        <th class="col-md-2">Email</th>
                        <th class="col-md-2">Status</th>
                        <th colspan="3" style="text-align: center">Actions</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="app in ctrl.apps">
                        <td>
                            <span></span>{{app.name}}
                        </td>
                        <td>{{app.type.name}}</td>
                        <td>{{app.email}}</td>
                        <td class="align-middle">
                            <span data-ng-class="app.isEnabled ? 'label label-success' : 'label label-default'">
                                {{app.isEnabled ? 'Enabled' : 'Disabled'}}
                            </span>

                        </td>
                        <td>
                            <a class="btn btn-info"
                               title="Details"
                               data-placement="left"
                               data-toggle="tooltip"
                               ng-disabled="!app.isEnabled" ui-sref="app.applicationDetail({id:app.id})">
                                <i class="fa fa-info"></i>
                            </a>
                        </td>
                        <td>

                            <a class="btn btn-primary"
                               title="Activate application"
                               data-placement="left"
                               data-toggle="tooltip"

                               ng-click="ctrl.enableApp(app)"
                               ng-if="!app.isEnabled && app.owner.id == user.id">
                                <i class="fa fa-key"></i>
                            </a>
                            <a class="btn btn-warning"
                               title="Edit application"
                               data-placement="left"
                               data-toggle="tooltip"

                               ng-if="app.isEnabled && app.owner.id == user.id"
                               ui-sref="app.applicationEdit({id:app.id})"><i class="fa fa-pencil"></i></a>
                        </td>
                        <td>
                            <button class="btn btn-danger"
                                    title="Delete application"
                                    data-placement="left"
                                    data-toggle="tooltip"

                                    ng-click="ctrl.deleteApp(app.id)">
                                <i ng-if="!ctrl.ui.isDeleting" class="fa fa-trash"></i>
                                <spinner is-loading="ctrl.ui.isDeleting"></spinner>

                            </button>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>


        </div>
    </div>
</div>



