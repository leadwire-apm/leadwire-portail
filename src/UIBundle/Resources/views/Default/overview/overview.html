<div class="panel" ng-init="ctrl.init()">
    <div class="panel-heading">
        <h4>Cluster [[ctrl.cluster.name]] Overview </h4>
        <hr>
    </div>

    <div class="panel-body no-margin">

        <div class="row">

            <div class="col-md-3">
                <section class="widget text-center" ng-class="ctrl.getColor(ctrl.cluster.status)">
                    <div class="widget-details col-xs-12">
                        <h2 class="no-margin">[[ctrl.cluster.status]]</h2> <small class="text-uppercase">Status</small>
                    </div>
                </section>
            </div>
            <div class="col-md-9">

                <section class="widget bg-grey text-center">
                    <div class="widget-details col-xs-4">
                        <h2 class="no-margin">[[ctrl.cluster.documents]]</h2> <small
                            class="text-uppercase">Documents</small>
                    </div>
                
                    <div class="widget-details col-xs-4">
                        <h2 class="no-margin">[[ctrl.cluster.nodes]]</h2> <small class="text-uppercase">Nodes</small>
                    </div>

                    <div class="widget-details col-xs-4">
                        <h2 class="no-margin">[[ctrl.cluster.data_nodes]]</h2> <small class="text-uppercase">Data Nodes</small>
                    </div>
                </section>
            </div>
        </div>

        <accordion close-others="true">
            <accordion-group ng-repeat="node in ctrl.nodes" is-open="node.isOpen">
                <accordion-heading>
                    <i class="fas fa-server"></i>
                        [[node.nodeName]]
                    <span style="margin-left: 25px;" class="label label-primary" ng-if="ctrl.isMasterNode(node)"> Master </span>
                    <span style="margin-left: 25px;" class="label label-success" ng-if="ctrl.isDataNode(node)"> Data </span>
                    <i class="pull-right glyphicon"
                        ng-class="{'glyphicon-chevron-down': isopen, 'glyphicon-chevron-right': !isopen}"></i>
                </accordion-heading>
                <div class="form-group row">

                    <div class="row">
                        <div class="col-md-4">
                            <section class="widget bg-grey text-center">
                                <div class="widget-details col-xs-12">
                                    <h2 class="no-margin">[[node.documents]]</h2> <small class="text-uppercase">Documents</small>
                                </div>
                            </section>
                        </div>

                        <div class="col-md-4">
                            <section class="widget bg-grey text-center">
                                <div class="widget-details col-xs-12">
                                    <h2 class="no-margin">[[node.ip]]</h2> <small class="text-uppercase">Ip</small>
                                </div>
                            </section>
                        </div>


                        <div class="col-md-4">
                            <section class="widget bg-grey text-center">
                                <div class="widget-details col-xs-12">
                                    <h2 class="no-margin">[[node.host]]</h2> <small class="text-uppercase">Host</small>
                                </div>
                            </section>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <h3>OS statistics</h3>

                            <section class="widget bg-grey text-center">
                                <div class="widget-details col-xs-2">
                                    <h2 class="no-margin">[[ctrl.bytesToSize(node.os.memory_used_byte)]]</h2> <small
                                        class="text-uppercase">Memory used</small>
                                </div>
                                <div class="widget-details col-xs-2">
                                    <h2 class="no-margin">[[ctrl.bytesToSize(node.os.memory_Total_byte)]]</h2>
                                    <small class="text-uppercase">Memory Total</small>
                                </div>
                                <div class="widget-details col-xs-2">
                                    <h2 class="no-margin">[[node.os.os_name]]</h2>
                                    <small class="text-uppercase">Name</small>
                                </div>
                                <div class="widget-details col-xs-3">
                                    <h2 class="no-margin">[[node.os.os_version]]</h2>
                                    <small class="text-uppercase">OS Version</small>
                                </div>
                                <div class="widget-details col-xs-3">
                                    <h2 class="no-margin">[[node.os.os_allocated_processors]]</h2>
                                    <small class="text-uppercase">Allocated Processors</small>
                                </div>

                            </section>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <h3>FS information</h3>

                            <section class="widget bg-grey text-center">
                                <div class="widget-details col-xs-6">
                                    <h2 class="no-margin">[[ctrl.bytesToSize(node.fs.total_available_in_bytes)]]
                                    </h2>
                                    <small class="text-uppercase">Available</small>
                                </div>
                                <div class="widget-details col-xs-6">
                                    <h2 class="no-margin">[[ctrl.bytesToSize(node.fs.total_in_bytes)]]</h2> <small
                                        class="text-uppercase">Total</small>
                                </div>
                            </section>
                        </div>


                        <div class="col-md-6">
                            <h3>JVM information</h3>

                            <section class="widget bg-grey text-center">
                                <div class="widget-details col-xs-4">
                                    <h2 class="no-margin">[[ctrl.msToTime(node.jvm.uptime_in_millis)]]</h2> <small
                                        class="text-uppercase">Up time</small>
                                </div>
                                <div class="widget-details col-xs-4">
                                    <h2 class="no-margin percent">[[node.jvm.mem_heap_used_percent]]</h2> <small
                                        class="text-uppercase">Heap used</small>
                                </div>
                                <div class="widget-details col-xs-4">
                                    <h2 class="no-margin">[[node.jvm.threads_count]]</h2> <small
                                        class="text-uppercase">Threads
                                        count</small>
                                </div>
                            </section>
                        </div>
                    </div>
                </div>
            </accordion-group>
        </accordion>
    </div>
</div>